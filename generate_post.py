from langchain.prompts import PromptTemplate
from langchain.chains import LLMChain
from langchain_groq import ChatGroq

TEMPLATE = """
Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø®Ø¨ÙŠØ± ÙÙŠ ØªØ­Ø³ÙŠÙ† Ù…Ù†Ø´ÙˆØ±Ø§Øª Ù„ÙŠÙ†ÙƒØ¯Ù†  {dialect}. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ø¯ÙÙ‡: {goal}

Ø¥Ù„ÙŠÙƒ Ø§Ù„Ù…Ø­ØªÙˆÙ‰:
"{content}"

Ø±Ø¬Ø§Ø¡Ù‹ Ù‚Ø³Ù‘Ù…Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„ØªØ§Ù„ÙŠØ©:

Ù¡. ØªØ­Ù„ÙŠÙ„ Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ù…Ù†Ø´ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠ:
   - Ù†ÙˆØ¹ Ø§Ù„Ù†Ø¨Ø±Ø©ØŒ Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø³Ø±Ø¯ØŒ Ù…Ø¯Ù‰ ÙˆØ¶ÙˆØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø©.
   - Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©.
   - Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù.

Ù¢. Ù…Ù†Ø´ÙˆØ± Ù…Ø­Ø³Ù‘Ù† ÙŠØ®Ø¯Ù… Ø§Ù„Ù‡Ø¯Ù:
   - Ø¨Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø© ÙˆÙ„ÙƒÙ† Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø£Ù‚ÙˆÙ‰ØŒ Ù…Ù†Ø¸Ù… Ø£ÙƒØ«Ø±ØŒ ÙˆÙ„Ù‡ ØªØ£Ø«ÙŠØ± ÙˆØ§Ø¶Ø­.
   - Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© {dialect}.

Ù£. ØªÙˆÙ„ÙŠØ¯ Ù£ Hooks Ù…Ø®ØªÙ„ÙØ© (Ù…Ø«Ù„: Ø³Ø¤Ø§Ù„ - Ø±Ù‚Ù… - Ø´ÙŠØ¡ Ù…ÙØ§Ø¬Ø¦):
   - ØªÙÙ„ÙØª Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø®Ù„Ø§Ù„ Ø£ÙˆÙ„ Ù£ Ø«ÙˆØ§Ù†Ù.

Ù¤. Call-to-Action ÙˆØ§Ø¶Ø­:
   - Ù…Ø«Ù„: "ÙˆØ´ Ø±Ø£ÙŠÙƒÙ…ØŸ" Ø£Ùˆ "ÙˆØ´ Ø£ÙƒØ«Ø± Ø´ÙŠ Ø´Ø¯ Ø§Ù†ØªØ¨Ø§Ù‡ÙƒØŸ"

Ù¥. Ø³Ø¤Ø§Ù„ ØªØ­ÙÙŠØ²ÙŠ Ø®ØªØ§Ù…ÙŠ (Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª)

Ù¦. Ù‡Ø§Ø´ØªØ§Ù‚Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©:
   - Ù¥ Ø¥Ù„Ù‰ Ù§ Ù‡Ø§Ø´ØªØ§Ù‚Ø§Øª Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆÙ…Ø­Ø¯Ù‘Ø«Ø©

Ù§. Ù…Ù„Ø®Øµ Ø¬Ø°Ø§Ø¨ (Meta Caption):
   - Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ÙŠÙ„Ø®Øµ Ø§Ù„Ù…Ù†Ø´ÙˆØ± ÙˆÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙƒØ¹Ù†ÙˆØ§Ù†

Ù¨. Ø§Ù‚ØªØ±Ø§Ø­ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù†Ø´Ø±:
   - Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„Ù†Ø´Ø± Ù„ØªØ­Ù‚ÙŠÙ‚ ØªÙØ§Ø¹Ù„ Ø£Ø¹Ù„Ù‰

Ù©. Ù†Ø³Ø®Ø© Ù‚ØµÙŠØ±Ø©:
   - ØªØµÙ„Ø­ Ù„Ù€ Story Ø£Ùˆ Reel Ù…ÙƒØªÙˆØ¨Ø© Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

ðŸ”Ÿ ØªÙˆÙ„ÙŠØ¯ Ø£ÙˆÙ„ ØªØ¹Ù„ÙŠÙ‚ Ù…Ø­ÙÙ‘Ø² Ù„Ù„Ù†Ù‚Ø§Ø´ (Comment bait).

Ø±Ø¬Ø§Ø¡Ù‹ Ø±Ø¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰ ÙÙ‚Ø·ØŒ ÙˆÙ„Ø§ ØªØ³ØªØ®Ø¯Ù… Ø£ÙŠ Ù„ØºØ© Ø£Ø®Ø±Ù‰.

Ø§Ø¨Ø¯Ø£ Ø¨Ù€ Ø§Ù„ØªØ­Ù„ÙŠÙ„ØŒ Ø«Ù… Ø§Ù†ØªÙ‚Ù„ Ø¨Ø§Ù„Ù†Ù‚Ø§Ø· Ø¨Ø§Ù„ØªØ³Ù„Ø³Ù„.
"""

prompt = PromptTemplate(
    input_variables=["content", "goal", "dialect"],
    template=TEMPLATE
)

llm = ChatGroq(temperature=0.7, model_name="llama3-70b-8192")

chain = LLMChain(prompt=prompt, llm=llm)

def generate_post(content: str, goal: str, dialect: str = "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰") -> str:
    return chain.run({
        "content": content,
        "goal": goal,
        "dialect": dialect
    })
