from langchain.prompts import PromptTemplate
from langchain.chains import LLMChain
from langchain_groq import ChatGroq

TEMPLATE = """
Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø®Ø¨ÙŠØ± ÙÙŠ ØªØ­Ø³ÙŠÙ† Ù…Ù†Ø´ÙˆØ±Ø§Øª Ù„ÙŠÙ†ÙƒØ¯Ù†  {dialect}. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ø¯ÙÙ‡: {goal}

Ø¥Ù„ÙŠÙƒ Ø§Ù„Ù…Ø­ØªÙˆÙ‰:
"{content}"

Ù‚Ù… Ø¨Ø§Ù„ØªØ§Ù„ÙŠ:
1. ðŸ” ØªØ­Ù„ÙŠÙ„ Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ù…Ù†Ø´ÙˆØ±.
2. âœ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù.
3. ðŸª ØªÙˆÙ„ÙŠØ¯ Ù£ Hooks Ù…Ø®ØªÙ„ÙØ© (Ù…Ø«Ù„: Ø³Ø¤Ø§Ù„ - Ø±Ù‚Ù… - Ø´ÙŠØ¡ Ù…ÙØ§Ø¬Ø¦).
4. ðŸ’¬ ØªÙˆÙ„ÙŠØ¯ Ø£ÙˆÙ„ ØªØ¹Ù„ÙŠÙ‚ Ù…Ø­ÙÙ‘Ø² Ù„Ù„Ù†Ù‚Ø§Ø´ (Comment bait).
5. âœï¸ Ø§Ù‚ØªØ±Ø§Ø­ Ù…Ù†Ø´ÙˆØ± Ø¬Ø¯ÙŠØ¯ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø£Ù‚ÙˆÙ‰ ÙŠØ®Ø¯Ù… Ø§Ù„Ù‡Ø¯Ù.
6. â° Ù…Ø§ Ù‡Ùˆ Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù†Ø´Ø± Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰.
7. ðŸ§© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙ‡ØŒ Ù„Ù‡Ø¬ØªÙ‡ØŒ ØªÙˆÙ‚Ù‘Ø¹Ø§ØªÙ‡).
8. ðŸŽ¯ Ù‚ÙŠÙ‘Ù… Ù…Ø¯Ù‰ ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù…Ù†Ø´ÙˆØ± Ù…Ø¹ Ø§Ù„Ù‡Ø¯Ù.
9. ðŸ’¡ Ø£Ø¹Ø·Ù Ø³Ø¤Ø§Ù„Ù‹Ø§ ØªØ­ÙÙŠØ²ÙŠÙ‹Ø§ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¨Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª.

Ø±Ø¬Ø§Ø¡Ù‹ Ø±Ø¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰ ÙÙ‚Ø·ØŒ ÙˆÙ„Ø§ ØªØ³ØªØ®Ø¯Ù… Ø£ÙŠ Ù„ØºØ© Ø£Ø®Ø±Ù‰.
Ø§Ø¨Ø¯Ø£ Ø¨Ù€ Ø§Ù„ØªØ­Ù„ÙŠÙ„ØŒ Ø«Ù… Ø§Ù†ØªÙ‚Ù„ Ø¨Ø§Ù„Ù†Ù‚Ø§Ø· Ø¨Ø§Ù„ØªØ³Ù„Ø³Ù„.
"""

prompt = PromptTemplate(
    input_variables=["content", "goal", "dialect"],
    template=TEMPLATE
)

llm = ChatGroq(temperature=0.7, model_name="llama3-70b-8192")

chain = LLMChain(prompt=prompt, llm=llm)

def generate_post(content: str, goal: str, dialect: str = "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰") -> str:
    return chain.run({
        "content": content,
        "goal": goal,
        "dialect": dialect
    })
